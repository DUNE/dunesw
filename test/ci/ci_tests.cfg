# [test lar_ci_openold_detsim_dunetpc]
# script=$DUNETPC_DIR/test/duneopenold_detsim.sh
# inputfiles=/pnfs/dune/mc/dune/simulated/002/singleparticle_antimu_20141105_Simulation009.root
# args=singleparticle_antimu_20141105_Simulation009.root
# output1=openclose_detsim_dune.root
# output2=openclose_detsim_hist_dune.root
# parse_art_output=True
# mem_usage_range=10:20000000
# cpu_usage_range=10:6000
#
# [test lar_ci_openold_reco_dunetpc]
# requires=lar_ci_openold_detsim_dunetpcci_g4_regression_test_dune35t
# script=$DUNETPC_DIR/test/duneopenold_reco.sh
# output1=openclose_reco_dune.root
# output2=openclose_reco_hist_dune.root
# parse_art_output=True
# mem_usage_range=10:20000000
# cpu_usage_range=10:6000
#
#
# [test lar_ci_prodsingle_dunetpc]
# script=${DUNETPC_DIR}/test/prodsingletest.sh
# args=
# output1=single_dune_gen.root
# output2=single_dune_hist.root
# parse_art_output=True
# mem_usage_range=0:20000000
# cpu_usage_range=0:60000
#
# [suite lar_ci_suite_dunetpc]
# testlist=lar_ci_prodsingle_dunetpc
#
# [suite lar_ci_suite2_dunetpc]
# testlist=lar_ci_openold_reco_dunetpc
# #testlist=lar_ci_openold_detsim_dunetpc
#
#
# [suite default_dunetpc]
# testlist=lar_ci_suite_dunetpc lar_ci_suite2_dunetpc



[DEFAULT]
CI_EXP_CODE=DUNETPC
# EXPSCRIPT_DUNETPC=ci_regression_test_dunetpc.sh
INPUTFILEDIR_DUNETPC=/pnfs/dune/persistent/stash/ContinuousIntegration/
# use XRootD port 1095 that allows unauthenticated XRootD access
XROOTD_INPUTFILEDIR_DUNETPC=xroot://fndca1.fnal.gov:1095/pnfs/fnal.gov/usr/dune/persistent/stash/ContinuousIntegration
IDENTIFIER_DUNETPC=${build_identifier}
# PLATFORM_DUNETPC=${build_platform}
# REF_DUNETPC=Reference%(PLATFORM_DUNETPC)s%(IDENTIFIER_DUNETPC)s
# CUR_DUNETPC=Current%(PLATFORM_DUNETPC)s%(IDENTIFIER_DUNETPC)s
REF_DUNETPC=Reference%(IDENTIFIER_DUNETPC)s
CUR_DUNETPC=Current%(IDENTIFIER_DUNETPC)s
RUN_TEST_DUNETPC=1
CHECK_PRODUCTS_DUNETPC=1
CHECK_PRODUCT_SIZE_DUNETPC=1
TESTMASK_DUNETPC=%(RUN_TEST_DUNETPC)s%(CHECK_PRODUCTS_DUNETPC)s%(CHECK_PRODUCT_SIZE_DUNETPC)s
# this is the script we use for most of the tests
# (lookup in `PATH` environment variable directories; provided by `lar_ci`)
EXPSCRIPT_DUNETPC=ci_regression_test_template.sh
# arguments used by EXPSCRIPT_DUNETPC
STDARGS_DUNETPC=--executable lar --nevents %(NEVENTS)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK_DUNETPC)s --extra-options --timing-db,time.db
STDARGS_DUNETPC_POSTGEN=--executable lar --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK_DUNETPC)s --extra-options --timing-db,time.db
STDARGS_DUNETPC_SELECT=--executable numactl,--physcpubind=+1,lar --nevents %(NEVENTS)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK_DUNETPC)s --extra-options --timing-db,time.db
# outputdest=/pnfs/dune/scratch/users/vito/ci_tests_outputfiles/



# quick tests DUNEFD
[test ci_gen_regression_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
#INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/gsimple_dune10kt_v1_1x2x6_g4lbne_v3r4p2_QGSP_BERT_CP_run15_12388_80GeV_neutrino_00481_00480.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
#args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
args=%(STDARGS_DUNETPC)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:2000000
cpu_usage_range=100:1000
output1=*.root

[test ci_g4_regression_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dunefd.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:29000000
cpu_usage_range=600:3550
output1=*.root

[test ci_detsim_regression_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dunefd.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=350000:2500000
cpu_usage_range=200:1600
output1=*.root

[test ci_reco_regression_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:6000000
cpu_usage_range=100:550
output1=*.root

[test ci_mergeana_regression_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=500000:2000000
cpu_usage_range=20:300
output1=*.root


[suite quick_test_dunefd]
testlist=ci_gen_regression_test_dunefd ci_g4_regression_test_dunefd ci_detsim_regression_test_dunefd ci_reco_regression_test_dunefd ci_mergeana_regression_test_dunefd





# quick tests protoDUNE Single Phase with splitG4
[test ci_gen_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=500000:750000
cpu_usage_range=50:200
output1=*.root

[test ci_g4_stage1_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=g4_stage1
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=2600000:3900000
cpu_usage_range=100:400
output1=*.root

[test ci_g4_stage2_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=g4_stage2
INPUT_STAGE_NAME=g4_stage1
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=2000000:42300000
cpu_usage_range=200:1000
output1=*.root

[test ci_detsim_stage1_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=detsim_stage1
INPUT_STAGE_NAME=g4_stage2
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=2050000:3500000
cpu_usage_range=700:4000
output1=*.root

[test ci_detsim_stage2_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=detsim_stage2
INPUT_STAGE_NAME=detsim_stage1
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSim_stage2_RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1900000:2500000
cpu_usage_range=20:400
output1=*.root

[test ci_reco_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim_stage2
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=3000000:8000000
cpu_usage_range=500:4000
output1=*.root

[test ci_mergeana_regression_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
#NEVENTS=1
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1200000:4700000
cpu_usage_range=20:200
output1=*.root

[suite quick_test_protoDUNEsp_splitG4]
testlist=ci_gen_regression_test_protoDUNEsp_splitG4 ci_g4_stage1_regression_test_protoDUNEsp_splitG4 ci_g4_stage2_regression_test_protoDUNEsp_splitG4 ci_detsim_stage1_regression_test_protoDUNEsp_splitG4 ci_detsim_stage2_regression_test_protoDUNEsp_splitG4 ci_reco_regression_test_protoDUNEsp_splitG4 ci_mergeana_regression_test_protoDUNEsp_splitG4





# quick tests data reco protoDUNE Single Phase
[test ci_datareco_regression_test_protoDUNEsp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=datareco
EXTRA_DIR=protoDUNEsp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_rawdata
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/np04_raw_run005809_0004_dl6.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:40000000
cpu_usage_range=500:2000
output1=*.root

[suite quick_test_data_protoDUNEsp]
testlist=ci_datareco_regression_test_protoDUNEsp



# quick tests protoDUNE Dual Phase
[test ci_gen_regression_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=300000:700000
cpu_usage_range=10:100
output1=*.root

[test ci_g4_regression_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=3000000:7000000
cpu_usage_range=200:1200
output1=*.root

[test ci_detsim_regression_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=950000:1750000
cpu_usage_range=50:400
output1=*.root

[test ci_reco_regression_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:6000000
cpu_usage_range=25:350
output1=*.root

### [test ci_mergeana_regression_test_protoDUNEdp]
### script=%(EXPSCRIPT_DUNETPC)s
### NEVENTS=1
### STAGE_NAME=mergeana
### INPUT_STAGE_NAME=reco
### EXTRA_DIR=protoDUNEdp
### FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
### BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
### INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
### OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
### REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
### args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
### parse_art_time_db=True
### mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
### cpu_usage_range=0:60000
### output1=*.root


[suite quick_test_protoDUNEdp]
testlist=ci_gen_regression_test_protoDUNEdp ci_g4_regression_test_protoDUNEdp ci_detsim_regression_test_protoDUNEdp ci_reco_regression_test_protoDUNEdp

# these have been commented out October 27, 2025 by trj because they do not work -- they refer to deleted fcl files, and when updated, have
# geometry version mismatches between the reference files and the current fcls.
# gen step re-enabled as it works

## quick tests protoDUNE Vertical Drift
[test ci_gen_regression_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=300000:800000
cpu_usage_range=5:100
output1=*.root

[test ci_g4_s1_regression_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=g4_s1
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=300000:700000
cpu_usage_range=40:120
output1=*.root

[test ci_g4_s2_regression_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=g4_s2
INPUT_STAGE_NAME=g4_s1
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=500000:2000000
cpu_usage_range=50:3200
output1=*.root


[test ci_detsim_regression_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4_s2
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1050000:2000000
cpu_usage_range=50:400
output1=*.root

[test ci_reco_regression_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
parse_art_time_db=True
mem_usage_range=1000000:6000000
cpu_usage_range=50:600
output1=*.root

[suite quick_test_protoDUNEvd]
testlist=ci_gen_regression_test_protoDUNEvd ci_g4_s1_regression_test_protoDUNEvd ci_g4_s2_regression_test_protoDUNEvd ci_detsim_regression_test_protoDUNEvd ci_reco_regression_test_protoDUNEvd



[suite quick_test_dunetpc]
testlist= quick_test_dunefd quick_test_protoDUNEsp_splitG4 quick_test_data_protoDUNEsp quick_test_protoDUNEdp quick_test_protoDUNEvd


# sequential tests DUNEFD
[test ci_gen_regression_seq_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000


[test ci_g4_regression_seq_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_dunefd
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dunefd.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_detsim_regression_seq_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_regression_seq_test_dunefd
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dunefd.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_reco_regression_seq_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_dunefd
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_mergeana_regression_seq_test_dunefd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_reco_regression_seq_test_dunefd
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000


[suite seq_test_dunefd]
testlist=ci_gen_regression_seq_test_dunefd ci_g4_regression_seq_test_dunefd ci_detsim_regression_seq_test_dunefd ci_reco_regression_seq_test_dunefd ci_mergeana_regression_seq_test_dunefd





# sequential tests protoDUNE Single Phase splitG4
[test ci_gen_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=gen
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_g4_stage1_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4_stage1
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_g4_stage2_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_stage1_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4_stage2
INPUT_STAGE_NAME=g4_stage1
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000


[test ci_detsim_stage1_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_stage2_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=detsim_stage1
INPUT_STAGE_NAME=g4_stage2
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_detsim_stage2_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_stage1_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=detsim_stage2
INPUT_STAGE_NAME=detsim_stage1
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSim_stage2_RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_reco_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_stage2_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim_stage2
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_mergeana_regression_seq_test_protoDUNEsp_splitG4]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_reco_regression_seq_test_protoDUNEsp_splitG4
#NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=protoDUNEsp_splitG4
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_splitG4_pion_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
# REFERENCE_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/ana_hist_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC_POSTGEN)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000


[suite seq_test_protoDUNEsp_splitG4]
testlist=ci_gen_regression_seq_test_protoDUNEsp_splitG4 ci_g4_stage1_regression_seq_test_protoDUNEsp_splitG4 ci_g4_stage2_regression_seq_test_protoDUNEsp_splitG4 ci_detsim_stage1_regression_seq_test_protoDUNEsp_splitG4 ci_detsim_stage2_regression_seq_test_protoDUNEsp_splitG4 ci_reco_regression_seq_test_protoDUNEsp_splitG4 ci_mergeana_regression_seq_test_protoDUNEsp_splitG4






# sequential tests data reco protoDUNE Single Phase
[test ci_datareco_regression_seq_test_protoDUNEsp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=datareco
EXTRA_DIR=protoDUNEsp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEsp.fcl
BASE_FILE_NAME=protoDune_rawdata
INPUT_STREAM=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/np04_raw_run005809_0004_dl6.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[suite seq_test_data_protoDUNEsp]
testlist=ci_datareco_regression_seq_test_protoDUNEsp



# sequential tests protoDUNE Dual Phase
[test ci_gen_regression_seq_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=gen
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_g4_regression_seq_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_protoDUNEdp
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_detsim_regression_seq_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_regression_seq_test_protoDUNEdp
#NEVENTS=10
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_reco_regression_seq_test_protoDUNEdp]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_protoDUNEdp
NEVENTS=2
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNEdp
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

# # # [test ci_mergeana_regression_seq_test_protoDUNEdp]
# # # script=%(EXPSCRIPT_DUNETPC)s
# # # requires=ci_reco_regression_seq_test_protoDUNEdp
# # # NEVENTS=10
# # # CHECK_PRODUCT_SIZE_DUNETPC=0
# # # STAGE_NAME=mergeana
# # # INPUT_STAGE_NAME=reco
# # # EXTRA_DIR=protoDUNEdp
# # # FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEdp.fcl
# # # BASE_FILE_NAME=protoDuneDP_muon_2GeV_mono
# # # INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
# # # OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
# # # REFERENCE_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/ana_hist_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
# # # REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
# # # args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s --reference-files-to-fetch %(REFERENCE_FILES_TO_FETCH)s --extra-function compare_anatree,ana_hist_%(STAGE_NAME)s_%(REF_DUNETPC)s.root,ana_hist.root
# # # mem_usage_range=0:20000000
# # # cpu_usage_range=0:60000
# # # outputdest=/pnfs/dune/scratch/users/vito/ci_tests_outputfiles/
# # # output1=ana_hist.root


[suite seq_test_protoDUNEdp]
testlist=ci_gen_regression_seq_test_protoDUNEdp ci_g4_regression_seq_test_protoDUNEdp ci_detsim_regression_seq_test_protoDUNEdp ci_reco_regression_seq_test_protoDUNEdp

# sequential tests protoDUNE Verticle Drift 
[test ci_gen_regression_seq_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=gen
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_g4_s1_regression_seq_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_protoDUNEvd
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4_s1
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_g4_s2_regression_seq_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_s1_regression_seq_test_protoDUNEvd
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=g4_s2
INPUT_STAGE_NAME=g4_s1
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_detsim_regression_seq_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_s2_regression_seq_test_protoDUNEvd
#NEVENTS=10
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4_s2
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_FILES_TO_FETCH=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_protoDUNE.dat
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files-to-fetch %(INPUT_FILES_TO_FETCH)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[test ci_reco_regression_seq_test_protoDUNEvd]
script=%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_protoDUNEvd
NEVENTS=1
CHECK_PRODUCT_SIZE_DUNETPC=0
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNEvd
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNEvd.fcl
BASE_FILE_NAME=protoDuneVD_muon_2GeV_mono
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
REFERENCE_FILES=%(XROOTD_INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-file %(INPUT_STREAM)s --reference-files %(REFERENCE_FILES)s
mem_usage_range=0:20000000
cpu_usage_range=0:60000

[suite seq_test_protoDUNEvd]
testlist=ci_gen_regression_seq_test_protoDUNEvd ci_g4_s1_regression_seq_test_protoDUNEvd ci_g4_s2_regression_seq_test_protoDUNEvd ci_detsim_regression_seq_test_protoDUNEvd ci_reco_regression_seq_test_protoDUNEvd

[suite seq_test_dunetpc]
testlist=seq_test_dunefd seq_test_protoDUNEsp_splitG4 seq_test_data_protoDUNEsp seq_test_protoDUNEdp seq_test_protoDUNEvd
